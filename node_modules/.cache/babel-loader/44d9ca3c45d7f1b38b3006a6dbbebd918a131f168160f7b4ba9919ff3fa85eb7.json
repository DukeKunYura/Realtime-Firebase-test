{"ast":null,"code":"/**\r\n * Отправка CRUD fetch запросов\r\n */\nexport default async function sendRequest(method, url) {\n  let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (method === 'POST') {\n    body = JSON.stringify(body);\n  }\n  ;\n  const response = await fetch(url, {\n    method: method,\n    body: body,\n    headers: headers\n  });\n  if (method === 'POST' || method === 'DELETE') {\n    const data = await response.json();\n    return data;\n  }\n  ;\n  const data = await response.json();\n  if (data[key]) {\n    const posts = Object.keys(data).map(key => ({\n      ...data[key],\n      id: key\n    }));\n  }\n  return posts;\n}","map":{"version":3,"names":["sendRequest","method","url","body","headers","JSON","stringify","response","fetch","data","json","key","posts","Object","keys","map","id"],"sources":["D:/code/React/Realtime-Firebase-test/src/functions/sendRequest.js"],"sourcesContent":["/**\r\n * Отправка CRUD fetch запросов\r\n */\r\nexport default async function sendRequest(method, url, body = null) {\r\n    const headers = {\r\n        'Content-Type': 'application/json'\r\n    };\r\n\r\n    if (method === 'POST') { body = JSON.stringify(body) };\r\n    const response = await fetch(url, {\r\n        method: method,\r\n        body: body,\r\n        headers: headers\r\n    });\r\n    if (method === 'POST' || method === 'DELETE') {\r\n        const data = await response.json();\r\n        return data\r\n    };\r\n\r\n    const data = await response.json();\r\n    if (data[key]) {\r\n        const posts = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n    }\r\n\r\n    return posts\r\n}"],"mappings":"AAAA;AACA;AACA;AACA,eAAe,eAAeA,WAAW,CAACC,MAAM,EAAEC,GAAG,EAAe;EAAA,IAAbC,IAAI,uEAAG,IAAI;EAC9D,MAAMC,OAAO,GAAG;IACZ,cAAc,EAAE;EACpB,CAAC;EAED,IAAIH,MAAM,KAAK,MAAM,EAAE;IAAEE,IAAI,GAAGE,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;EAAC;EAAC;EACtD,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAE;IAC9BD,MAAM,EAAEA,MAAM;IACdE,IAAI,EAAEA,IAAI;IACVC,OAAO,EAAEA;EACb,CAAC,CAAC;EACF,IAAIH,MAAM,KAAK,MAAM,IAAIA,MAAM,KAAK,QAAQ,EAAE;IAC1C,MAAMQ,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;IAClC,OAAOD,IAAI;EACf;EAAC;EAED,MAAMA,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,IAAID,IAAI,CAACE,GAAG,CAAC,EAAE;IACX,MAAMC,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACL,IAAI,CAAC,CAACM,GAAG,CAACJ,GAAG,KAAK;MAAE,GAAGF,IAAI,CAACE,GAAG,CAAC;MAAEK,EAAE,EAAEL;IAAI,CAAC,CAAC,CAAC;EAC3E;EAEA,OAAOC,KAAK;AAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\n\n/**\r\n * Хук для выполнения асинхронных запросов\r\n */\nconst useAsync = function (asyncFunction) {\n  _s();\n  let immediate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  const [status, setStatus] = useState(\"idle\");\n  const [value, setValue] = useState(null);\n  const [error, setError] = useState(null);\n  const execute = useCallback(() => {\n    setStatus(\"pending\");\n    setValue(null);\n    setError(null);\n    return asyncFunction().then(response => {\n      setValue(response);\n      setStatus(\"success\");\n    }).catch(error => {\n      setError(error);\n      setStatus(\"error\");\n    });\n  }, [asyncFunction]);\n  useEffect(() => {\n    if (immediate) {\n      execute();\n    }\n  }, [execute, immediate]);\n  return {\n    execute,\n    status,\n    value,\n    error\n  };\n};\n_s(useAsync, \"WrTMerSZFuLzJwwpAXwVpAaq1WY=\");\nexport default useAsync;","map":{"version":3,"names":["useState","useEffect","useCallback","useAsync","asyncFunction","immediate","status","setStatus","value","setValue","error","setError","execute","then","response","catch"],"sources":["D:/code/React/test-fire/src/hooks/useAsync.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\n/**\r\n * Хук для выполнения асинхронных запросов\r\n */\r\nconst useAsync = (asyncFunction, immediate = true) => {\r\n    const [status, setStatus] = useState(\"idle\");\r\n    const [value, setValue] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    const execute = useCallback(() => {\r\n        setStatus(\"pending\");\r\n        setValue(null);\r\n        setError(null);\r\n        return asyncFunction()\r\n            .then((response) => {\r\n                setValue(response);\r\n                setStatus(\"success\");\r\n            })\r\n            .catch((error) => {\r\n                setError(error);\r\n                setStatus(\"error\");\r\n            });\r\n    }, [asyncFunction]);\r\n\r\n    useEffect(() => {\r\n        if (immediate) {\r\n            execute();\r\n        }\r\n    }, [execute, immediate]);\r\n    return { execute, status, value, error };\r\n};\r\n\r\nexport default useAsync"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;;AAExD;AACA;AACA;AACA,MAAMC,QAAQ,GAAG,UAACC,aAAa,EAAuB;EAAA;EAAA,IAArBC,SAAS,uEAAG,IAAI;EAC7C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,MAAM,CAAC;EAC5C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMY,OAAO,GAAGV,WAAW,CAAC,MAAM;IAC9BK,SAAS,CAAC,SAAS,CAAC;IACpBE,QAAQ,CAAC,IAAI,CAAC;IACdE,QAAQ,CAAC,IAAI,CAAC;IACd,OAAOP,aAAa,EAAE,CACjBS,IAAI,CAAEC,QAAQ,IAAK;MAChBL,QAAQ,CAACK,QAAQ,CAAC;MAClBP,SAAS,CAAC,SAAS,CAAC;IACxB,CAAC,CAAC,CACDQ,KAAK,CAAEL,KAAK,IAAK;MACdC,QAAQ,CAACD,KAAK,CAAC;MACfH,SAAS,CAAC,OAAO,CAAC;IACtB,CAAC,CAAC;EACV,CAAC,EAAE,CAACH,aAAa,CAAC,CAAC;EAEnBH,SAAS,CAAC,MAAM;IACZ,IAAII,SAAS,EAAE;MACXO,OAAO,EAAE;IACb;EACJ,CAAC,EAAE,CAACA,OAAO,EAAEP,SAAS,CAAC,CAAC;EACxB,OAAO;IAAEO,OAAO;IAAEN,MAAM;IAAEE,KAAK;IAAEE;EAAM,CAAC;AAC5C,CAAC;AAAC,GA1BIP,QAAQ;AA4Bd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"/**\r\n * Отправка CRUD fetch запросов\r\n */\nexport default async function sendRequest(method, url) {\n  let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  if (method === 'POST') {\n    body = JSON.stringify(body);\n  }\n  ;\n  const response = await fetch(url, {\n    method: method,\n    body: body,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  if (method === 'POST' || method === 'DELETE') {\n    const data = await response.json();\n    return data;\n  }\n  ;\n  const data = await response.json();\n  if (data !== null) {\n    const posts = Object.keys(data).map(key => ({\n      ...data[key],\n      id: key\n    }));\n    return posts;\n  } else {\n    return [];\n  }\n}","map":{"version":3,"names":["sendRequest","method","url","body","JSON","stringify","response","fetch","headers","data","json","posts","Object","keys","map","key","id"],"sources":["D:/code/React/Realtime-Firebase-test/src/functions/sendRequest.js"],"sourcesContent":["/**\r\n * Отправка CRUD fetch запросов\r\n */\r\nexport default async function sendRequest(method, url, body = null) {\r\n\r\n    if (method === 'POST') { body = JSON.stringify(body) };\r\n    const response = await fetch(url, {\r\n        method: method,\r\n        body: body,\r\n        headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    if (method === 'POST' || method === 'DELETE') {\r\n        const data = await response.json();\r\n        return data\r\n    };\r\n\r\n    const data = await response.json();\r\n    if (data !== null) {\r\n        const posts = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n        return posts\r\n    } else {\r\n        return []\r\n    }\r\n\r\n\r\n}"],"mappings":"AAAA;AACA;AACA;AACA,eAAe,eAAeA,WAAW,CAACC,MAAM,EAAEC,GAAG,EAAe;EAAA,IAAbC,IAAI,uEAAG,IAAI;EAE9D,IAAIF,MAAM,KAAK,MAAM,EAAE;IAAEE,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC;EAAC;EAAC;EACtD,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAAE;IAC9BD,MAAM,EAAEA,MAAM;IACdE,IAAI,EAAEA,IAAI;IACVK,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB;EAClD,CAAC,CAAC;EACF,IAAIP,MAAM,KAAK,MAAM,IAAIA,MAAM,KAAK,QAAQ,EAAE;IAC1C,MAAMQ,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;IAClC,OAAOD,IAAI;EACf;EAAC;EAED,MAAMA,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;EAClC,IAAID,IAAI,KAAK,IAAI,EAAE;IACf,MAAME,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACK,GAAG,CAACC,GAAG,KAAK;MAAE,GAAGN,IAAI,CAACM,GAAG,CAAC;MAAEC,EAAE,EAAED;IAAI,CAAC,CAAC,CAAC;IACvE,OAAOJ,KAAK;EAChB,CAAC,MAAM;IACH,OAAO,EAAE;EACb;AAGJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}